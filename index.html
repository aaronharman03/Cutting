<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .card { width: 100%; max-width: 350px; border: 1px solid #333; padding: 20px; border-radius: 12px; background: #0a0a0a; }
        
        .stat-label { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 2.5rem; font-weight: bold; color: #00ff96; margin-bottom: 20px; display: block; }
        
        .input-group { margin-bottom: 15px; text-align: left; }
        label { display: block; font-size: 0.8rem; margin-bottom: 5px; color: #bbb; }
        input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 6px; box-sizing: border-box; font-size: 1rem; }
        input:focus { border-color: #00ff96; outline: none; }
        
        .result-box { border-top: 1px solid #222; margin-top: 20px; padding-top: 20px; }
        .date-highlight { font-size: 1.4rem; color: #fff; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card">
        <div class="stat-label">Estimated Current BF%</div>
        <span class="stat-value" id="current-bf-display">--%</span>

        <div class="input-group">
            <label>Current Weight (lbs)</label>
            <input type="number" id="weight" value="195" oninput="calculate()">
        </div>

        <div class="input-group">
            <label>Starting BF% (Last Scan/Estimate)</label>
            <input type="number" id="start-bf" value="20" oninput="calculate()">
        </div>

        <div class="input-group">
            <label>Today's Deficit (e.g. 500) or Surplus (e.g. -500)</label>
            <input type="number" id="daily-deficit" value="500" oninput="calculate()">
        </div>

        <div class="result-box">
            <div class="stat-label">Predicted 12% Date</div>
            <div class="date-highlight" id="goal-date">--</div>
            
            <div class="stat-label" style="margin-top: 15px;">Lbs of Fat Remaining</div>
            <div id="fat-remaining" style="color: #00ff96; font-weight: bold;">-- lbs</div>
        </div>
    </div>

<script>
    function calculate() {
        // 1. Get Inputs
        const weight = parseFloat(document.getElementById('weight').value);
        const startBF = parseFloat(document.getElementById('start-bf').value) / 100;
        const deficit = parseFloat(document.getElementById('daily-deficit').value);
        
        if (!weight || !startBF) return;

        // 2. Calculate Lean Body Mass (LBM)
        const lbm = weight * (1 - startBF);
        
        // 3. Goal is 12% Body Fat (0.12)
        // Goal Weight = LBM / (1 - 0.12)
        const goalWeight = lbm / 0.88;
        const lbsToLose = weight - goalWeight;

        // 4. Update Displays
        document.getElementById('current-bf-display').innerText = (startBF * 100).toFixed(1) + "%";
        document.getElementById('fat-remaining').innerText = lbsToLose.toFixed(1) + " lbs";

        // 5. Calculate Date (3500 calories = 1lb fat)
        if (deficit > 0) {
            const totalCalsNeeded = lbsToLose * 3500;
            const daysRemaining = totalCalsNeeded / deficit;
            
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + daysRemaining);
            
            const options = { month: 'long', day: 'numeric', year: 'numeric' };
            document.getElementById('goal-date').innerText = targetDate.toLocaleDateString(undefined, options);
            document.getElementById('goal-date').style.color = "#fff";
        } else {
            document.getElementById('goal-date').innerText = "NEVER (Surplus)";
            document.getElementById('goal-date').style.color = "#ff4d4d";
        }
    }

    // Initialize
    calculate();
</script>

</body>
</html>
